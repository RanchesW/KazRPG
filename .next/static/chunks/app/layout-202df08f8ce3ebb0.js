(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1615:function(e,t,r){Promise.resolve().then(r.t.bind(r,2972,23)),Promise.resolve().then(r.t.bind(r,4966,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,2764)),Promise.resolve().then(r.bind(r,7044)),Promise.resolve().then(r.bind(r,8655)),Promise.resolve().then(r.bind(r,2092)),Promise.resolve().then(r.bind(r,9356))},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(2972),s=r.n(n)},2764:function(e,t,r){"use strict";let n;r.d(t,{WebVitalsReporter:function(){return K}});var s=r(2265);let i=-1,a=e=>{addEventListener("pageshow",t=>{t.persisted&&(i=t.timeStamp,e(t))},!0)},l=(e,t,r,n)=>{let s,i;return a=>{let l;t.value>=0&&(a||n)&&((i=t.value-(s??0))||void 0===s)&&(s=t.value,t.delta=i,t.rating=(l=t.value)>r[1]?"poor":l>r[0]?"needs-improvement":"good",e(t))}},o=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},d=()=>{let e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},c=()=>{let e=d();return e?.activationStart??0},u=(e,t=-1)=>{let r=d(),n="navigate";return i>=0?n="back-forward-cache":r&&(document.prerendering||c()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},h=new WeakMap;function m(e,t){return h.get(e)||h.set(e,new t),h.get(e)}class f{t;i=0;o=[];h(e){if(e.hadRecentInput)return;let t=this.o[0],r=this.o.at(-1);this.i&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}let x=(e,t,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return n.observe({type:e,buffered:!0,...r}),n}}catch{}},p=e=>{let t=!1;return()=>{t||(e(),t=!0)}},v=-1,g=new Set,b=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,y=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(let e of g)e();isFinite(v)||(v="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",y,!0))}},j=()=>{if(v<0){let e=c();v=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime)??b(),addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0),a(()=>{setTimeout(()=>{v=b()})})}return{get firstHiddenTime(){return v},onHidden(e){g.add(e)}}},w=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},N=[1800,3e3],k=(e,t={})=>{w(()=>{let r=j(),n,s=u("FCP"),i=x("paint",e=>{for(let t of e)"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<r.firstHiddenTime&&(s.value=Math.max(t.startTime-c(),0),s.entries.push(t),n(!0)))});i&&(n=l(e,s,N,t.reportAllChanges),a(r=>{n=l(e,s=u("FCP"),N,t.reportAllChanges),o(()=>{s.value=performance.now()-r.timeStamp,n(!0)})}))})},E=[.1,.25],T=(e,t={})=>{let r=j();k(p(()=>{let n,s=u("CLS",0),i=m(t,f),d=e=>{for(let t of e)i.h(t);i.i>s.value&&(s.value=i.i,s.entries=i.o,n())},c=x("layout-shift",d);c&&(n=l(e,s,E,t.reportAllChanges),r.onHidden(()=>{d(c.takeRecords()),n(!0)}),a(()=>{i.i=0,n=l(e,s=u("CLS",0),E,t.reportAllChanges),o(()=>n())}),setTimeout(n))}))},C=0,M=1/0,P=0,A=e=>{for(let t of e)t.interactionId&&(M=Math.min(M,t.interactionId),C=(P=Math.max(P,t.interactionId))?(P-M)/7+1:0)},_=()=>n?C:performance.interactionCount??0,L=()=>{"interactionCount"in performance||n||(n=x("event",A,{type:"event",buffered:!0,durationThreshold:0}))},S=0;class I{u=[];l=new Map;m;p;v(){S=_(),this.u.length=0,this.l.clear()}L(){let e=Math.min(this.u.length-1,Math.floor((_()-S)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;let t=this.u.at(-1),r=this.l.get(e.interactionId);if(r||this.u.length<10||e.duration>t.P){if(r?e.duration>r.P?(r.entries=[e],r.P=e.duration):e.duration===r.P&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],P:e.duration},this.l.set(r.id,r),this.u.push(r)),this.u.sort((e,t)=>t.P-e.P),this.u.length>10)for(let e of this.u.splice(10))this.l.delete(e.id);this.p?.(r)}}}let R=e=>{let t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(addEventListener("visibilitychange",e=p(e),{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))},z=[200,500],F=(e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;let r=j();w(()=>{L();let n,s=u("INP"),i=m(t,I),o=e=>{R(()=>{for(let t of e)i.h(t);let t=i.L();t&&t.P!==s.value&&(s.value=t.P,s.entries=t.entries,n())})},d=x("event",o,{durationThreshold:t.durationThreshold??40});n=l(e,s,z,t.reportAllChanges),d&&(d.observe({type:"first-input",buffered:!0}),r.onHidden(()=>{o(d.takeRecords()),n(!0)}),a(()=>{i.v(),n=l(e,s=u("INP"),z,t.reportAllChanges)}))})};class D{m;h(e){this.m?.(e)}}let H=[2500,4e3],Z=(e,t={})=>{w(()=>{let r=j(),n,s=u("LCP"),i=m(t,D),d=e=>{for(let a of(t.reportAllChanges||(e=e.slice(-1)),e))i.h(a),a.startTime<r.firstHiddenTime&&(s.value=Math.max(a.startTime-c(),0),s.entries=[a],n())},h=x("largest-contentful-paint",d);if(h){n=l(e,s,H,t.reportAllChanges);let r=p(()=>{d(h.takeRecords()),h.disconnect(),n(!0)}),i=e=>{e.isTrusted&&(R(r),removeEventListener(e.type,i,{capture:!0}))};for(let e of["keydown","click","visibilitychange"])addEventListener(e,i,{capture:!0});a(r=>{n=l(e,s=u("LCP"),H,t.reportAllChanges),o(()=>{s.value=performance.now()-r.timeStamp,n(!0)})})}})},B=[800,1800],O=e=>{document.prerendering?w(()=>O(e)):"complete"!==document.readyState?addEventListener("load",()=>O(e),!0):setTimeout(e)},W=(e,t={})=>{let r=u("TTFB"),n=l(e,r,B,t.reportAllChanges);O(()=>{let s=d();s&&(r.value=Math.max(s.responseStart-c(),0),r.entries=[s],n(!0),a(()=>{(n=l(e,r=u("TTFB",0),B,t.reportAllChanges))(!0)}))})};function q(e){"gtag"in window&&window.gtag("event",e.name,{event_category:"Web Vitals",value:Math.round("CLS"===e.name?1e3*e.value:e.value),custom_map:{metric_id:e.id,metric_rating:e.rating}})}var U=r(9376);function K(){return!function(){let e=(0,U.useRouter)();(0,s.useEffect)(()=>{["/games","/auth/signin","/auth/signup","/dashboard"].forEach(t=>{e.prefetch(t)})},[e])}(),(0,s.useEffect)(()=>{(function(){try{T(q),F(q),k(q),Z(q),W(q)}catch(e){console.warn("Failed to initialize web vitals:",e)}})(),function(){["https://fonts.googleapis.com","https://fonts.gstatic.com","https://cdn.jsdelivr.net"].forEach(e=>{let t=document.createElement("link");t.rel="dns-prefetch",t.href=e,document.head.appendChild(t)});let e=document.createElement("link");e.rel="preconnect",e.href=window.location.origin,document.head.appendChild(e)}()},[]),null}},7044:function(e,t,r){"use strict";r.d(t,{Header:function(){return h}});var n=r(7437),s=r(2265),i=r(7648),a=r(9205);let l=(0,a.Z)("dice-6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var o=r(3247);let d=(0,a.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),c=(0,a.Z)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var u=r(6334);function h(){let[e,t]=(0,s.useState)(!1);return(0,n.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-md border-b border-purple-500/20",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,n.jsxs)(i.default,{href:"/",className:"flex items-center space-x-2 group",children:[(0,n.jsx)(l,{className:"w-8 h-8 text-purple-400 group-hover:text-purple-300 transition-colors"}),(0,n.jsx)("span",{className:"text-2xl font-bold gradient-text",children:"KazRPG"})]}),(0,n.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,n.jsx)(i.default,{href:"/games",className:"text-gray-300 hover:text-white transition-colors",children:"Игры"}),(0,n.jsx)(i.default,{href:"/gms",className:"text-gray-300 hover:text-white transition-colors",children:"Мастера"}),(0,n.jsx)(i.default,{href:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"О нас"})]}),(0,n.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,n.jsxs)(u.z,{variant:"ghost",size:"sm",children:[(0,n.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Поиск"]}),(0,n.jsx)(u.z,{variant:"ghost",size:"sm",children:(0,n.jsx)(i.default,{href:"/auth/signin",children:"Войти"})}),(0,n.jsx)(u.z,{size:"sm",children:(0,n.jsx)(i.default,{href:"/auth/signup",children:"Регистрация"})})]}),(0,n.jsx)("button",{onClick:()=>t(!e),className:"md:hidden text-gray-300 hover:text-white",children:e?(0,n.jsx)(d,{className:"w-6 h-6"}):(0,n.jsx)(c,{className:"w-6 h-6"})})]}),e&&(0,n.jsx)("div",{className:"md:hidden border-t border-gray-700 py-4",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,n.jsx)(i.default,{href:"/games",className:"text-gray-300 hover:text-white",children:"Игры"}),(0,n.jsx)(i.default,{href:"/gms",className:"text-gray-300 hover:text-white",children:"Мастера"}),(0,n.jsx)(i.default,{href:"/about",className:"text-gray-300 hover:text-white",children:"О нас"}),(0,n.jsxs)("div",{className:"flex flex-col space-y-2 pt-4 border-t border-gray-700",children:[(0,n.jsx)(u.z,{variant:"ghost",className:"justify-start",children:(0,n.jsx)(i.default,{href:"/auth/signin",children:"Войти"})}),(0,n.jsx)(u.z,{className:"justify-start",children:(0,n.jsx)(i.default,{href:"/auth/signup",children:"Регистрация"})})]})]})})]})})}},8655:function(e,t,r){"use strict";r.d(t,{Providers:function(){return s}});var n=r(7437);function s(e){let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})}},6334:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(7437);r(2265);var s=r(3448);function i(e){let{className:t,variant:r="default",size:i="md",...a}=e;return(0,n.jsx)("button",{className:(0,s.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{default:"bg-purple-600 text-white hover:bg-purple-700 focus:ring-purple-500",outline:"border border-purple-600 text-purple-600 hover:bg-purple-50 focus:ring-purple-500",ghost:"text-purple-600 hover:bg-purple-50 focus:ring-purple-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[r],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-12 px-6 text-lg"}[i],t),...a})}},2092:function(e,t,r){"use strict";r.d(t,{ErrorBoundary:function(){return f}});var n=r(7437),s=r(2265),i=r(6334),a=r(3448);function l(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("rounded-xl border border-slate-700 bg-slate-800/50 backdrop-blur-sm shadow-lg",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,n.jsx)("h3",{className:(0,a.cn)("text-xl font-semibold text-white",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("p-6 pt-0",t),...r})}var u=r(9205);let h=(0,u.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),m=(0,u.Z)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);class f extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){var r,n;this.setState({errorInfo:t}),console.error("ErrorBoundary caught an error:",e,t),null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}render(){return this.state.hasError?this.props.fallback?(0,n.jsx)(this.props.fallback,{error:this.state.error,retry:this.retry}):(0,n.jsx)("div",{className:"min-h-[400px] flex items-center justify-center p-4",children:(0,n.jsxs)(l,{className:"max-w-md w-full",children:[(0,n.jsxs)(o,{className:"text-center",children:[(0,n.jsx)("div",{className:"mx-auto w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center mb-4",children:(0,n.jsx)(h,{className:"w-6 h-6 text-red-500"})}),(0,n.jsx)(d,{className:"text-red-400",children:"Что-то пошло не так"})]}),(0,n.jsxs)(c,{className:"text-center space-y-4",children:[(0,n.jsx)("p",{className:"text-gray-400",children:"Произошла ошибка при загрузке этого компонента. Попробуйте обновить страницу."}),!1,(0,n.jsxs)(i.z,{onClick:this.retry,className:"w-full",children:[(0,n.jsx)(m,{className:"w-4 h-4 mr-2"}),"Попробовать снова"]})]})]})}):this.props.children}constructor(e){super(e),this.retry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}}},9356:function(e,t,r){"use strict";r.d(t,{A:function(){return d},Toaster:function(){return c}});var n=r(7437),s=r(9064),i=r(1671),a=r(9388),l=r(3245),o=r(9322);let d={success:e=>{s.Am.custom(t=>(0,n.jsxs)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-green-600 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5"),children:[(0,n.jsx)("div",{className:"flex-1 w-0 p-4",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(i.Z,{className:"h-6 w-6 text-green-100"})}),(0,n.jsx)("div",{className:"ml-3 flex-1",children:(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:e})})]})}),(0,n.jsx)("div",{className:"flex border-l border-green-500",children:(0,n.jsx)("button",{onClick:()=>s.Am.dismiss(t.id),className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-green-100 hover:text-white focus:outline-none",children:"\xd7"})})]}),{duration:4e3})},error:e=>{s.Am.custom(t=>(0,n.jsxs)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-red-600 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5"),children:[(0,n.jsx)("div",{className:"flex-1 w-0 p-4",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(a.Z,{className:"h-6 w-6 text-red-100"})}),(0,n.jsx)("div",{className:"ml-3 flex-1",children:(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:e})})]})}),(0,n.jsx)("div",{className:"flex border-l border-red-500",children:(0,n.jsx)("button",{onClick:()=>s.Am.dismiss(t.id),className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-red-100 hover:text-white focus:outline-none",children:"\xd7"})})]}),{duration:6e3})},info:e=>{s.Am.custom(t=>(0,n.jsxs)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-blue-600 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5"),children:[(0,n.jsx)("div",{className:"flex-1 w-0 p-4",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(l.Z,{className:"h-6 w-6 text-blue-100"})}),(0,n.jsx)("div",{className:"ml-3 flex-1",children:(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:e})})]})}),(0,n.jsx)("div",{className:"flex border-l border-blue-500",children:(0,n.jsx)("button",{onClick:()=>s.Am.dismiss(t.id),className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-blue-100 hover:text-white focus:outline-none",children:"\xd7"})})]}),{duration:4e3})},warning:e=>{s.Am.custom(t=>(0,n.jsxs)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-yellow-600 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5"),children:[(0,n.jsx)("div",{className:"flex-1 w-0 p-4",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(o.Z,{className:"h-6 w-6 text-yellow-100"})}),(0,n.jsx)("div",{className:"ml-3 flex-1",children:(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:e})})]})}),(0,n.jsx)("div",{className:"flex border-l border-yellow-500",children:(0,n.jsx)("button",{onClick:()=>s.Am.dismiss(t.id),className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-yellow-100 hover:text-white focus:outline-none",children:"\xd7"})})]}),{duration:5e3})}};function c(){return(0,n.jsx)(s.x7,{position:"bottom-right"})}},3448:function(e,t,r){"use strict";r.d(t,{T4:function(){return d},cn:function(){return l},mq:function(){return u},p6:function(){return o},x9:function(){return c}});var n=r(1994),s=r(3335),i=r(5948),a=r(692);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function o(e){return(0,i.Z)(new Date(e),"d MMMM yyyy, HH:mm",{locale:a.Z})}function d(e){return new Intl.NumberFormat("ru-RU").format(e)}function c(e){return({DND5E:"D&D 5e",PATHFINDER2E:"Pathfinder 2e",CALL_OF_CTHULHU:"Зов Ктулху",VAMPIRE:"Вампир",SHADOWRUN:"Shadowrun",CYBERPUNK:"Cyberpunk",WARHAMMER40K:"Warhammer 40K",OTHER:"Другая система"})[e]||e}function u(e){return({BEGINNER_FRIENDLY:"Для новичков",INTERMEDIATE:"Средний уровень",ADVANCED:"Продвинутый",EXPERT_ONLY:"Только эксперты"})[e]||e}},2778:function(){},4966:function(e){e.exports={style:{fontFamily:"'__Inter_423598', '__Inter_Fallback_423598'",fontStyle:"normal"},className:"__className_423598"}}},function(e){e.O(0,[973,436,972,870,971,117,744],function(){return e(e.s=1615)}),_N_E=e.O()}]);